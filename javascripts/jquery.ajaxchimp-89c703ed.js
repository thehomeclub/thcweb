!function(a){"use strict";a.ajaxChimp={responses:{"We have sent you a confirmation email":0,"Please enter a value":1,"An email address must contain a single @":2,"The domain portion of the email address is invalid":3,"The username portion of the email address is invalid":4,"This email address looks fake or invalid.":5},translations:{en:null},init:function(s,e){a(s).ajaxChimp(e)}},a.fn.ajaxChimp=function(s){return a(this).each(function(e,n){var i=a(n),t=i.find("input[type=email]"),r=i.find("label[for="+t.attr("id")+"]"),l=i.find("button[type=submit]"),o=a.extend({url:i.attr("action"),language:"en"},s),m=o.url.replace("/post?","/post-json?").concat("&c=?");i.attr("novalidate","true"),t.attr("name","EMAIL"),i.submit(function(){function s(s){if("success"===s.result)e="We have sent you a confirmation email",r.removeClass("error").addClass("valid"),t.removeClass("error").addClass("valid"),l.html("DONE"),l.css("background","#57DA7C");else{t.removeClass("valid").addClass("error"),r.removeClass("valid").addClass("error"),l.html("GO");var e,n=-1;try{var i=s.msg.split(" - ",2);if(void 0===i[1])e=s.msg;else{var m=parseInt(i[0],10);m.toString()===i[0]?(n=i[0],e=i[1]):(n=-1,e=s.msg)}}catch(u){n=-1,e=s.msg}}"en"!==o.language&&a.ajaxChimp.responses[e]&&a.ajaxChimp.translations&&a.ajaxChimp.translations[o.language]&&a.ajaxChimp.translations[o.language][a.ajaxChimp.responses[e]]&&(e=a.ajaxChimp.translations[o.language][a.ajaxChimp.responses[e]]),r.html(e),r.show(2e3),o.callback&&o.callback(s)}var e={},n=i.serializeArray();a.each(n,function(a,s){e[s.name]=s.value}),a.ajax({url:m,data:e,success:s,dataType:"jsonp",error:function(a,s){console.log("mailchimp ajax submit error: "+s)}});var u='<i class="icon-spin4 animate-spin"></i>';return"en"!==o.language&&a.ajaxChimp.translations&&a.ajaxChimp.translations[o.language]&&a.ajaxChimp.translations[o.language].submit&&(u=a.ajaxChimp.translations[o.language].submit),l.html(u).show(2e3),!1})}),this}}(jQuery);